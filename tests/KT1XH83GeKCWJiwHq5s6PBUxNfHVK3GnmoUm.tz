parameter (option key_hash);
storage (pair (pair address (option key_hash)) (pair address (option key_hash)));
code { DUP; CDR; CAR; CAR; SENDER; PAIR; DUP; CAR; DIP { CDR }; COMPARE; EQ; IF { DUP; CAR; DIP { CDR }; SWAP; DUP; DIP { CAR; DUP; CDR; DROP; CAR; PAIR }; CDR; SWAP; PAIR } { DUP; CDR; CDR; CAR; SENDER; COMPARE; EQ; IF { DUP; CAR; DIP { CDR }; SWAP; DUP; DIP { CDR; DUP; CDR; DROP; CAR; PAIR }; CAR; PAIR } { UNIT; FAILWITH } }; DUP; CAR; CDR; DIP { DUP; CDR; CDR }; IF_NONE { IF_NONE { NONE key_hash; SET_DELEGATE; NIL operation; SWAP; CONS } { DROP; NIL operation } } { SWAP; IF_NONE { DROP; NIL operation } { DIP { DUP }; COMPARE; EQ; IF { SOME; SET_DELEGATE; NIL operation; SWAP; CONS } { DROP; NIL operation } } }; PAIR }
